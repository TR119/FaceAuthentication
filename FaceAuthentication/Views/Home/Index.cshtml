@{
    Layout = null;
    string tfjsUrl = "https://cdn.jsdelivr.net/npm/@tensorflow/tfjs";
    string facemeshUrl = "https://cdn.jsdelivr.net/npm/@tensorflow-models/facemesh";
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - My ASP.NET Application</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap.min.css" integrity="sha512-jnSuA4Ss2PkkikSOLtYs8BlYIeeIK1h99ty4YfvRPAlzr377vr3CXDb7sb7eEEBYjDtcYj+AjBH3FLv5uSJuXg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/js/bootstrap.min.js" integrity="sha512-ykZ1QQr0Jy/4ZkvKuqWn4iF3lqPZyij9iRv6sGqLRdTPkY69YX6+7wvVGmsdBbiIfN/8OdsI7HABjvEok6ZopQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="@Html.Raw(tfjsUrl)"></script>
    <script src="@Html.Raw(facemeshUrl)"></script>
    <link rel="stylesheet" href="~/Content/Site.css"/>
</head>
<body>
<div class="body-content" >
    <div id="container-pc">
        <input type="hidden" id="IsMobile" value="@ViewBag.IsMobile" />
        @*<div class="entry-screen">
        <p class="text-white text-center spinner-text"></p>
        <div class="spinner"></div>
    </div>*@
        <div class="d-flex justify-content-center align-items-center faceCheck-container">
            <div style="min-height:416px;">
                <div class="camera-wrap">
                    <div class="d-flex" style="height:360px;">
                        <video id="camera" autoplay muted playsinline></video>
                        <canvas id="canvas" class="d-none"></canvas>
                        <div class="result-div d-none">
                            <div class="result-item">
                            </div>
                            
                        </div>
                    </div>
                    <div class="w-100 d-flex justify-content-center bg-dark">
                        <img id="imageUpload" src="" class="d-none"/>
                    </div>

                    <div id="overlayText">
                        <div id="instruction-text">Để khuôn mặt vào giữa khung hình</div>
                    </div>

                    <div id="svg-container">
                        <svg id="custom-svg" class="WebcamCapture_ellipse__4o13l" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" viewBox="0 0 640 360" rotate="100deg" action="0" style="position: absolute; top: 0px; left: 0px;">
                            <defs>
                                <mask id="bgClip">
                                    <rect x="0" y="0" width="640" height="360" fill="#fff"/>
                                    <ellipse cx="320" cy="180" rx="122" ry="122"/>
                                </mask>
                                <mask id="readinessMask" x="0" y="0">
                                    <circle fill="white" r="0" cx="320" cy="180"/>
                                    <ellipse cx="320" cy="180" rx="122" ry="122"/>
                                </mask>
                                <mask id="ovalClip">
                                    <rect x="0" y="0" width="640" height="360" fill="#fff"/>
                                </mask>
                            </defs>
                            <rect mask="url(#bgClip)" x="0" y="0" width="640" height="360" fill="rgb(0,0,0,0.8)"/>
                            <defs>
                                <mask id="targetSectorMask" x="0" y="0">
                                    <circle stroke-width="62.5" r="125" cx="320" cy="180" fill="" stroke="white"/>
                                    <ellipse cx="320" cy="180" rx="126" ry="126"/>
                                </mask>
                            </defs>

                            <ellipse mask="url(#ovalClip)" id="animated-ellipse" class=" " cx="320" cy="180" rx="132" ry="132" fill="none" stroke-dasharray="3 5" stroke="#BFBFBF" stroke-width="8"/>
                            <ellipse mask="url(#ovalClip)" class="circle" cx="320" cy="180" rx="126" ry="126" fill="none" stroke="var(--color-main)" stroke-width="5" stroke-dasharray="800" stroke-dashoffset="800"/>

                        </svg>
                    </div>

                    <button class="btn btn-ui btnSwapCam d-none shadow" onclick="handleChangeCamera()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left-right" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="M1 11.5a.5.5 0 0 0 .5.5h11.793l-3.147 3.146a.5.5 0 0 0 .708.708l4-4a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 11H1.5a.5.5 0 0 0-.5.5m14-7a.5.5 0 0 1-.5.5H2.707l3.147 3.146a.5.5 0 1 1-.708.708l-4-4a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 4H14.5a.5.5 0 0 1 .5.5"/>
                        </svg>
                        <i class="bi bi-arrow-left-right"></i>
                    </button>
                </div>
                <div class="d-flex justify-content-center mt-3">
                    <button class="btn btn-ui btnReTry shadow d-none" onclick="handleCapture()">Thử lại</button>
                </div>
            </div>

        </div>

    </div>
    <hr />
    <footer>
    </footer>
</div>

@Scripts.Render("~/bundles/jquery")

<script src="~/Content/js/faceCheck.js"></script>

</body>
</html>








